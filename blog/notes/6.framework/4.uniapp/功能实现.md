# 语法

## pages.json

### pages设置页面

| 属性                         | 说明                     |
| ---------------------------- | ------------------------ |
| navigationBarTitleText       | 头部文本                 |
| navigationBarBackgroundColor | 头部背景色               |
| navigationBarTextStyle       | 头部文本颜色，只有黑与白 |
| enablePullDownRefresh        | 是否开启下拉刷新动画     |

### 去除默认标题

```json
{
      "path": "pages/home/home",
      "style": {
        "app-plus": {
          "titleNView": false
        }
      }
    },
```

### globalStyle

设置通用的页面样式

### tabBar

设置底部图标切换区域(也可以设置到顶部)

```json
{
  "pages": [ //pages数组中第一项表示应用启动页，参考：https://uniapp.dcloud.io/collocation/pages
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "首页",
        "navigationBarBackgroundColor": "#007AFF",
        "navigationBarTextStyle": "white",
        "enablePullDownRefresh": true
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "black",
    "backgroundColor": "#F8F8F8",
    "navigationBarTitleText": "uni-app",
    "navigationBarBackgroundColor": "#F8F8F8",
  },
    "tabBar": {
    "color": "#FFFFFF",
    "selectedColor": "#55ffff",
    "backgroundColor": "#007AFF",
    "list": [{
      "text": "首页",
      "pagePath": "pages/index/index",
      "iconPath": "static/tab/tab_icon3.png",
      "selectedIconPath": "static/tab/tab_icon3_active.png"
    }, {
      "text": "世界",
      "pagePath": "pages/index/index",
      "iconPath": "static/tab/tab_icon2.png",
      "selectedIconPath": "static/tab/tab_icon2_active.png"
    }, {
      "text": "欢迎",
      "pagePath": "pages/index/index",
      "iconPath": "static/tab/tab_icon1.png",
      "selectedIconPath": "static/tab/tab_icon1_active.png"
    }]
  }
}
```

3. 

## webview

嵌套一个线上的html5页面

```js
<template>
  <web-view src="https://zqylzcwcxy.gitee.io/vite-vue-blog/" />
</template>
```

## 弹窗提示

```js
 uni.showToast({
          title: "点击了遮罩"
        })
```

## 获取dom

```js
   const dateEditor = uni.createSelectorQuery().in(this).select(".uni-date-editor")
      dateEditor
        .boundingClientRect(rect => {
          if (this.windowWidth - rect.left < this.datePopupWidth) {
            this.popover.right = 0
          }
        })
        .exec()
```

##  获取平台信息

```js
platform() {
  const systemInfo = uni.getSystemInfoSync()
  this.windowWidth = systemInfo.windowWidth
},
```

## 切换页面更改顶部背景色

```js
uni.setNavigationBarColor({
          frontColor: "#ffffff",
          backgroundColor: "#6739b6"
        })
```

## 自定义顶部-实现背景色渐变

1.`pages.json`中设置`  "navigationStyle": "custom"`

```json
{
  "pages": [
    ...
    // 需要设置渐变背景色的页面
    {
      "path": "pages/todo/todo",
      "style": {
        ...
        // 自定义背景样式
        "navigationStyle": "custom"
      }
    }
  ],
```

2.然后页面中使用css

```css
background-image: linear-gradient(#ee9d39, #fbd978);
```

## 预览图片

```js
  // 回调返回，图片保存路径
            uni.previewImage({
              urls: [res.tempFilePath],
              longPressActions: {
                itemList: ["发送给朋友", "保存图片", "收藏"],
                success: function(data) {
                  console.log(
                    "选中了第" + (data.tapIndex + 1) + "个按钮,第" + (data.index + 1) + "张图片"
                  )
                },
                fail: function(err) {
                  console.log("eee", err.errMsg)
                }
              }
            })
```

```

```



## 单行文本和多行文本超出隐藏

```css
.name{
  width:400rpx;
  white-space:nowarp;/*强制在一行显示*/
  over-flow:hidden;/*溢出隐藏*/
  text-overflow:ellipsip;/*溢出显示省略号*/
}

```

```css
  .name {
    height: 80rpx;
    display: -webkit-box; /*弹性伸缩盒子模型显示*/
    -webkit-box-orient: vertical; /*排列方式*/ 
    -webkit-line-clamp: 2;/*显示文本行数*/
    overflow: hidden;/*溢出隐藏*/
  }
```

