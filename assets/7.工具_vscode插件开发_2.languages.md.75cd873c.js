import{_ as s,o as n,c as a,a as l}from"./app.bfa9bd4b.js";const A=JSON.parse('{"title":"languages","description":"","frontmatter":{},"headers":[{"level":2,"title":"registerCompletionItemProvider","slug":"registercompletionitemprovider","link":"#registercompletionitemprovider","children":[]},{"level":2,"title":"resolveCompletionItem","slug":"resolvecompletionitem","link":"#resolvecompletionitem","children":[]},{"level":2,"title":"示例","slug":"示例","link":"#示例","children":[]},{"level":2,"title":"CompletionItemKind","slug":"completionitemkind","link":"#completionitemkind","children":[]},{"level":2,"title":"提供基本语法","slug":"提供基本语法","link":"#提供基本语法","children":[]},{"level":2,"title":"language-configuration.json","slug":"language-configuration-json","link":"#language-configuration-json","children":[]},{"level":2,"title":"language.tmLanguage.json","slug":"language-tmlanguage-json","link":"#language-tmlanguage-json","children":[]}],"relativePath":"7.工具/vscode插件开发/2.languages.md","lastUpdated":1720835436710}'),o={name:"7.工具/vscode插件开发/2.languages.md"},p=l(`<h1 id="languages" tabindex="-1">languages <a class="header-anchor" href="#languages" aria-hidden="true">#</a></h1><p>用于参与特定语言的编辑器功能，如智能感知、代码操作、代码诊断等</p><p>具体来说，就是参与代码补全、代码跳转或代码检查等功能</p><p><code>languages</code>将所有UI和操作都准备就绪，只需要提供数据就能实现这类功能。例如，要创建一个悬停，只需提供一个函数，该函数可以通过文本文档和返回悬停信息的位置来调用。其余的工作，如跟踪鼠标、定位悬停、保持悬停稳定等，由vscode编辑器自行负责</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">languages</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">registerHoverProvider</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;javascript&#39;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">provideHover</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">document</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">position</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">contents</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;Hover Content&#39;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#79B8FF;">languages</span><span style="color:#B392F0;">.registerHoverProvider(</span><span style="color:#FFAB70;">&#39;javascript&#39;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  provideHover(document</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> position</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">      contents</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> [</span><span style="color:#FFAB70;">&#39;Hover Content&#39;</span><span style="color:#B392F0;">]</span></span>
<span class="line"><span style="color:#B392F0;">    }</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"><span style="color:#B392F0;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>注册是使用一个文档选择器完成的，它要么是一个语言id，比如javascript，要么是一个更复杂的过滤器，比如{language:&#39;typescript&#39;，scheme:&#39;file&#39;}。将文档与这样的选择器进行匹配将得到一个分数，用于确定是否以及如何使用提供者。当分数相等时，最后一个提供程序获胜。对于允许完全算术的功能，如hover，分数仅检查为&gt;0，对于其他功能，如IntelliSense，分数用于确定要求提供程序参与的顺序</p><h2 id="registercompletionitemprovider" tabindex="-1">registerCompletionItemProvider <a class="header-anchor" href="#registercompletionitemprovider" aria-hidden="true">#</a></h2><p>注册一个<code>completion provider</code> ，直译为<code>完成提供程序</code>，其实指的是<code>提供代码补全提示</code>的程序，就像css中敲代码会提示css属性列表</p><p>可以为一种语言注册多个<code>provider</code>。在这种情况下，<code>provider</code>按分数排序，相同分数的<code>provider</code>将依次请求<code>completion item</code>(单项代码补全提示，一般来说代码提示都是一个列表，如css属性列表)。当一个<code>provider</code>或多个<code>provider</code>返回结果时，进程停止。失败的<code>provider</code>（rejected promise or exception）不会使整个操作失败</p><p><code>completion provider</code>可以与一组触发器字符相关联。当输入触发器字符时，会请求补全，但只能从注册输入字符的提供程序中请求。因为触发字符应该不同于单词字符，所以一个常见的触发字符是<code>.</code> , 触发代码补全。</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">languages</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">ExtensionContext</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">activate</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">context</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">ExtensionContext</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">subscriptions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">languages</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">registerCompletionItemProvider</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;vue&#39;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">provideCompletionItems</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">resolveCompletionItem</span></span>
<span class="line"><span style="color:#ABB2BF;">  }, </span><span style="color:#98C379;">&#39;.&#39;</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> { languages</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> ExtensionContext } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> activate(context</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> ExtensionContext) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">context</span><span style="color:#B392F0;">.</span><span style="color:#79B8FF;">subscriptions</span><span style="color:#B392F0;">.push(</span><span style="color:#79B8FF;">languages</span><span style="color:#B392F0;">.registerCompletionItemProvider(</span><span style="color:#FFAB70;">&#39;vue&#39;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    provideCompletionItems</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    resolveCompletionItem</span></span>
<span class="line"><span style="color:#B392F0;">  }</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&#39;.&#39;</span><span style="color:#B392F0;">))</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>以上就是一个最简单的<code>completion provider</code> ，可以看出有3个参数：</p><ul><li>第一个是要关联的文件类型</li><li>第二个是一个对象，里面必须包含<code>provideCompletionItems</code>和<code>resolveCompletionItem</code>这2个方法</li><li>第三个是触发代码补全提示的字符</li></ul><p>上方例子中，关联的文件类型是<code>vue</code>文件，<code>provideCompletionItems</code>和<code>resolveCompletionItem</code>稍后我们将进行定义，按下<code>.</code>后触发代码提示</p><h2 id="resolvecompletionitem" tabindex="-1">resolveCompletionItem <a class="header-anchor" href="#resolvecompletionitem" aria-hidden="true">#</a></h2><p>resolveCompletionItem(item: <code>T</code>, token: <code>CancellationToken</code>): <code>ProviderResult&lt;T&gt;</code></p><p>给定一个<code>completion item</code>，填写更多数据，如文档注释或详细信息</p><p>编辑器将只解析一次<code>completion item</code></p><p>请注意，当<code>completion item</code>已显示在UI中或已选择要插入的项时，才会调用此函数。因此，无法更改任何展示方式（标签、排序、筛选等）或（主要）插入行为（insertText）的属性</p><p>此函数可以填写额外的文本编辑。然而，这意味着在解析完成之前可能会插入一个<code>completion item</code>，在这种情况下，编辑器将尽最大努力去应用这些额外的文本编辑</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 不做任何操作</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">resolveCompletionItem</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CompletionItem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CancellationToken</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">null</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#6B737C;">// 不做任何操作</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> resolveCompletionItem(item</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CompletionItem</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CancellationToken) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-hidden="true">#</a></h2><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">ExtensionContext</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">languages</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionItem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionItemKind</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">TextDocument</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Position</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CancellationToken</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionContext</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">activate</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">context</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">ExtensionContext</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">provideCompletionItems</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">document</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">TextDocument</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">position</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Position</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CancellationToken</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">context</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CompletionContext</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">classNames</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;1111&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;2222&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">classNames</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">map</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">className</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">completionItem</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">CompletionItem</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">className</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">CompletionItemKind</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">Variable</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E5C07B;">completionItem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">detail</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">className</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">completionItem</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">resolveCompletionItem</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CompletionItem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CancellationToken</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">null</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">subscriptions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">languages</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">registerCompletionItemProvider</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;vue&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">provideCompletionItems</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">resolveCompletionItem</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;.&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ))</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> { ExtensionContext</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> languages</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionItem</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionItemKind</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> TextDocument</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Position</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CancellationToken</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionContext } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> activate(context</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> ExtensionContext) {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> provideCompletionItems(document</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> TextDocument</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> position</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Position</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CancellationToken</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> context</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CompletionContext) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">classNames</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> [</span><span style="color:#FFAB70;">&quot;1111&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;2222&quot;</span><span style="color:#B392F0;">]</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">classNames</span><span style="color:#B392F0;">.map(className </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">completionItem</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> CompletionItem(className</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">CompletionItemKind</span><span style="color:#B392F0;">.Variable)</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#79B8FF;">completionItem</span><span style="color:#B392F0;">.detail </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> className</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> completionItem</span></span>
<span class="line"><span style="color:#B392F0;">    })</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> resolveCompletionItem(item</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CompletionItem</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CancellationToken) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">context</span><span style="color:#B392F0;">.</span><span style="color:#79B8FF;">subscriptions</span><span style="color:#B392F0;">.push( </span><span style="color:#79B8FF;">languages</span><span style="color:#B392F0;">.registerCompletionItemProvider(</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#FFAB70;">&quot;vue&quot;</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    {</span></span>
<span class="line"><span style="color:#B392F0;">      provideCompletionItems</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">      resolveCompletionItem</span></span>
<span class="line"><span style="color:#B392F0;">    }</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#FFAB70;">&quot;.&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  ))</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="completionitemkind" tabindex="-1">CompletionItemKind <a class="header-anchor" href="#completionitemkind" aria-hidden="true">#</a></h2><p>每种<code>completion item</code>都有不同图标，使用ts的enum语法定义，运行以下代码查看所有图标示例</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">ExtensionContext</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">languages</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionItem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionItemKind</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">TextDocument</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Position</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CancellationToken</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">CompletionContext</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">activate</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">context</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">ExtensionContext</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;地涌了&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">provideCompletionItems</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">document</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">TextDocument</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">position</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Position</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CancellationToken</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">context</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CompletionContext</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">classNames</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Array</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">27</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;test&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> { </span><span style="color:#E5C07B;">Class</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Color</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Constant</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Constructor</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Enum</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">EnumMember</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Event</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Field</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">File</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Folder</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Function</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Interface</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Issue</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Keyword</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Method</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Module</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Operator</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Property</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Reference</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Snippet</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Struct</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Text</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">TypeParameter</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Unit</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">User</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Value</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Variable</span><span style="color:#ABB2BF;"> } </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">CompletionItemKind</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">iconNumArr</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span><span style="color:#E06C75;">Class</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Color</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Constant</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Constructor</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Enum</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">EnumMember</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Event</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Field</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">File</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Folder</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Function</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Interface</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Issue</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Keyword</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Method</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Module</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Operator</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Property</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Reference</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Snippet</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Struct</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Text</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">TypeParameter</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Unit</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">User</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Value</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">Variable</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">iconTitleArr</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;Class&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Color&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Constant&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Constructor&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Enum&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;EnumMember&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Event&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Field&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;File&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Folder&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Function&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Interface&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Issue&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Keyword&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Method&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Module&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Operator&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Property&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Reference&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Snippet&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Struct&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Text&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;TypeParameter&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Unit&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;User&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Value&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;Variable&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">classNames</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">map</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">index</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">completionItem</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">CompletionItem</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">label</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">iconTitleArr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">], </span><span style="color:#E06C75;">description</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">item</span><span style="color:#ABB2BF;"> }, </span><span style="color:#E06C75;">iconNumArr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">])</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E5C07B;">completionItem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">detail</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;CompletionItemKind名为：&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">iconTitleArr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;CompletionItemKind值为：&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">iconNumArr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">completionItem</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">resolveCompletionItem</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CompletionItem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">token</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">CancellationToken</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">null</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 第一个参数表示在什么文件里提供代码补全，第二个参数是代码补全的内容，第三个参数是如何触发</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">subscriptions</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E5C07B;">languages</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">registerCompletionItemProvider</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">      [</span><span style="color:#98C379;">&quot;html&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;vue-html&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;vue&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">      {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">provideCompletionItems</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">resolveCompletionItem</span></span>
<span class="line"><span style="color:#ABB2BF;">      },</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#98C379;">&quot;&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    )</span></span>
<span class="line"><span style="color:#ABB2BF;">  )</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#B392F0;"> { ExtensionContext</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> languages</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionItem</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionItemKind</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> TextDocument</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Position</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CancellationToken</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> CompletionContext } </span><span style="color:#F97583;">from</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;vscode&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> activate(context</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> ExtensionContext) {</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">console</span><span style="color:#B392F0;">.log(</span><span style="color:#FFAB70;">&quot;地涌了&quot;</span><span style="color:#B392F0;">)</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> provideCompletionItems(document</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> TextDocument</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> position</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> Position</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CancellationToken</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> context</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CompletionContext) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">classNames</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Array(</span><span style="color:#F8F8F8;">27</span><span style="color:#B392F0;">).fill(</span><span style="color:#FFAB70;">&quot;test&quot;</span><span style="color:#B392F0;">)</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> { </span><span style="color:#79B8FF;">Class</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Color</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Constant</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Constructor</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Enum</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">EnumMember</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Event</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Field</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">File</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Folder</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Function</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Interface</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Issue</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Keyword</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Method</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Module</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Operator</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Property</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Reference</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Snippet</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Struct</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Text</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">TypeParameter</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Unit</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">User</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Value</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">Variable</span><span style="color:#B392F0;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> CompletionItemKind</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">iconNumArr</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> [Class</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Color</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Constant</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Constructor</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Enum</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> EnumMember</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Event</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Field</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> File</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Folder</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Function</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Interface</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Issue</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Keyword</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Method</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Module</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Operator</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Property</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Reference</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Snippet</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Struct</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Text</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> TypeParameter</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Unit</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> User</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Value</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> Variable]</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">iconTitleArr</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> [</span><span style="color:#FFAB70;">&quot;Class&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Color&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Constant&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Constructor&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Enum&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;EnumMember&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Event&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Field&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;File&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Folder&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Function&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Interface&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Issue&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Keyword&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Method&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Module&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Operator&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Property&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Reference&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Snippet&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Struct&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Text&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;TypeParameter&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Unit&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;User&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Value&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;Variable&quot;</span><span style="color:#B392F0;">]</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">classNames</span><span style="color:#B392F0;">.map((item</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> index) </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> {</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">completionItem</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> CompletionItem({ label</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> iconTitleArr[index]</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> description</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> item }</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> iconNumArr[index])</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#79B8FF;">completionItem</span><span style="color:#B392F0;">.detail </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;CompletionItemKind名为：&quot;</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> iconTitleArr[index] </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;CompletionItemKind值为：&quot;</span><span style="color:#B392F0;"> </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> iconNumArr[index]</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> completionItem</span></span>
<span class="line"><span style="color:#B392F0;">    })</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#F97583;">function</span><span style="color:#B392F0;"> resolveCompletionItem(item</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CompletionItem</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> token</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> CancellationToken) {</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#F97583;">return</span><span style="color:#B392F0;"> </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#B392F0;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#6B737C;">// 第一个参数表示在什么文件里提供代码补全，第二个参数是代码补全的内容，第三个参数是如何触发</span></span>
<span class="line"><span style="color:#B392F0;">  </span><span style="color:#79B8FF;">context</span><span style="color:#B392F0;">.</span><span style="color:#79B8FF;">subscriptions</span><span style="color:#B392F0;">.push(</span></span>
<span class="line"><span style="color:#B392F0;">    </span><span style="color:#79B8FF;">languages</span><span style="color:#B392F0;">.registerCompletionItemProvider(</span></span>
<span class="line"><span style="color:#B392F0;">      [</span><span style="color:#FFAB70;">&quot;html&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;vue-html&quot;</span><span style="color:#BBBBBB;">,</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;vue&quot;</span><span style="color:#B392F0;">]</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">      {</span></span>
<span class="line"><span style="color:#B392F0;">        provideCompletionItems</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">        resolveCompletionItem</span></span>
<span class="line"><span style="color:#B392F0;">      }</span><span style="color:#BBBBBB;">,</span></span>
<span class="line"><span style="color:#B392F0;">      </span><span style="color:#FFAB70;">&quot;&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    )</span></span>
<span class="line"><span style="color:#B392F0;">  )</span></span>
<span class="line"><span style="color:#B392F0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="提供基本语法" tabindex="-1">提供基本语法 <a class="header-anchor" href="#提供基本语法" aria-hidden="true">#</a></h2><h2 id="language-configuration-json" tabindex="-1">language-configuration.json <a class="header-anchor" href="#language-configuration-json" aria-hidden="true">#</a></h2><p>控制语言的标点符号</p><h2 id="language-tmlanguage-json" tabindex="-1">language.tmLanguage.json <a class="header-anchor" href="#language-tmlanguage-json" aria-hidden="true">#</a></h2><p>控制匹配的关键字，文件名中的language是语言的名字</p>`,31),e=[p];function B(t,c,r,y,F,i){return n(),a("div",null,e)}const m=s(o,[["render",B]]);export{A as __pageData,m as default};
