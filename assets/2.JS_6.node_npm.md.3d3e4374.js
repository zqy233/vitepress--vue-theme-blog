import{_ as s,o as n,c as a,a as l}from"./app.bfa9bd4b.js";const m=JSON.parse('{"title":"npm","description":"","frontmatter":{},"headers":[{"level":2,"title":"查看版本","slug":"查看版本","link":"#查看版本","children":[]},{"level":2,"title":"镜像操作","slug":"镜像操作","link":"#镜像操作","children":[]},{"level":2,"title":"下载所有依赖包","slug":"下载所有依赖包","link":"#下载所有依赖包","children":[]},{"level":2,"title":"下载包","slug":"下载包","link":"#下载包","children":[]},{"level":2,"title":"删除包","slug":"删除包","link":"#删除包","children":[]},{"level":2,"title":"全局包操作","slug":"全局包操作","link":"#全局包操作","children":[]},{"level":2,"title":"清理缓存","slug":"清理缓存","link":"#清理缓存","children":[]},{"level":2,"title":"代理设置成空","slug":"代理设置成空","link":"#代理设置成空","children":[]},{"level":2,"title":"本地安装npm包","slug":"本地安装npm包","link":"#本地安装npm包","children":[]},{"level":2,"title":"查看npm配置","slug":"查看npm配置","link":"#查看npm配置","children":[{"level":3,"title":"依赖","slug":"依赖","link":"#依赖","children":[]}]},{"level":2,"title":"发布与下架 npm 包","slug":"发布与下架-npm-包","link":"#发布与下架-npm-包","children":[]},{"level":2,"title":"本地调试组件库","slug":"本地调试组件库","link":"#本地调试组件库","children":[]},{"level":2,"title":"依赖包版本号~，^和*","slug":"依赖包版本号-和","link":"#依赖包版本号-和","children":[]},{"level":2,"title":"本地运行打包后前端项目","slug":"本地运行打包后前端项目","link":"#本地运行打包后前端项目","children":[]},{"level":2,"title":"nodemon和chokidar","slug":"nodemon和chokidar","link":"#nodemon和chokidar","children":[]}],"relativePath":"2.JS/6.node/npm.md","lastUpdated":1720835436690}'),p={name:"2.JS/6.node/npm.md"},e=l(`<h1 id="npm" tabindex="-1">npm <a class="header-anchor" href="#npm" aria-hidden="true">#</a></h1><blockquote><p>npm是随同nodejs一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：</p><ul><li>允许用户从<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm市场</a>下载别人编写的第三方包到本地项目中使用</li><li>允许用户从<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm市场</a>下载并安装别人编写的命令行程序到本地使用</li><li>允许用户将自己编写的包或命令行程序上传到<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm市场</a>供别人使用</li></ul><p>可以通过命令行输入&quot;npm -v&quot;来测试是否成功安装nodejs</p></blockquote><h2 id="查看版本" tabindex="-1">查看版本 <a class="header-anchor" href="#查看版本" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-v</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="镜像操作" tabindex="-1">镜像操作 <a class="header-anchor" href="#镜像操作" aria-hidden="true">#</a></h2><p>切换到淘宝镜像可以在下载很多包时更加快速</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">## 修改npm至新的淘宝镜像源：</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">registry</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https://registry.npmmirror.com</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## 解除镜像并恢复到官方源</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">registry</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https://registry.npmjs.org</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询当前地址配置</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">get</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">registry</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#6B737C;">## 修改npm至新的淘宝镜像源：</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">set</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">registry</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">https://registry.npmmirror.com</span></span>
<span class="line"><span style="color:#6B737C;">## 解除镜像并恢复到官方源</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">set</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">registry</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">https://registry.npmjs.org</span></span>
<span class="line"><span style="color:#6B737C;"># 查询当前地址配置</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">get</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">registry</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="下载所有依赖包" tabindex="-1">下载所有依赖包 <a class="header-anchor" href="#下载所有依赖包" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 上方简写</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">install</span></span>
<span class="line"><span style="color:#6B737C;"># 上方简写</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="下载包" tabindex="-1">下载包 <a class="header-anchor" href="#下载包" aria-hidden="true">#</a></h2><p>用于开发环境与打包环境的包</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--save</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 上方简写</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-s</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">install</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--save</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"><span style="color:#6B737C;"># 上方简写</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-s</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>只用于开发环境，不用于打包环境的包</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--save-dev</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 上方简写</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">install</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--save-dev</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"><span style="color:#6B737C;"># 上方简写</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-D</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="删除包" tabindex="-1">删除包 <a class="header-anchor" href="#删除包" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">uninstall</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">uninstall</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="全局包操作" tabindex="-1">全局包操作 <a class="header-anchor" href="#全局包操作" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 全局安装包</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查看全局安装包</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">list</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--depth</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 卸载全局安装包</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">uninstall</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">package</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#6B737C;"># 全局安装包</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-g</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"><span style="color:#6B737C;"># 查看全局安装包</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">list</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-g</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--depth</span><span style="color:#B392F0;"> </span><span style="color:#F8F8F8;">0</span></span>
<span class="line"><span style="color:#6B737C;"># 卸载全局安装包</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">uninstall</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-g</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">package</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="清理缓存" tabindex="-1">清理缓存 <a class="header-anchor" href="#清理缓存" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">cache</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">clean</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--force</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">cache</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">clean</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--force</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="代理设置成空" tabindex="-1">代理设置成空 <a class="header-anchor" href="#代理设置成空" aria-hidden="true">#</a></h2><p>用于解决一些软件会自动给npm添加代理，导致npm无法正常使用，之后不需要使用这些软件时就需要代理设置成空</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">proxy</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">null</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https-proxy</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">null</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 或者</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">proxy</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https-proxy</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">set</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">proxy</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">null</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">set</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">https-proxy</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">null</span></span>
<span class="line"><span style="color:#6B737C;"># 或者</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">delete</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">proxy</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">delete</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">https-proxy</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="本地安装npm包" tabindex="-1">本地安装npm包 <a class="header-anchor" href="#本地安装npm包" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">link</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 如果已经npm link过,很可能会报错，这时可以添加-forcec参数，覆盖上一次的link</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-f</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">link</span></span>
<span class="line"><span style="color:#6B737C;"># 如果已经npm link过,很可能会报错，这时可以添加-forcec参数，覆盖上一次的link</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">link</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-f</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="查看npm配置" tabindex="-1">查看npm配置 <a class="header-anchor" href="#查看npm配置" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">list</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">list</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="依赖" tabindex="-1">依赖 <a class="header-anchor" href="#依赖" aria-hidden="true">#</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set-script</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">prepare</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;husky install&quot;</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">set-script</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">prepare</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&quot;husky install&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="发布与下架-npm-包" tabindex="-1">发布与下架 npm 包 <a class="header-anchor" href="#发布与下架-npm-包" aria-hidden="true">#</a></h2><ol><li>npm login</li><li>输入 username（npm 账户，没有可以去 npm 官网注册，bing 搜索 npm 即可）</li><li>输入 password</li><li>npm publish</li></ol><p>注意！不能使用淘宝镜像，需要切换回默认 npm 路径</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">registry</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">https://registry.npmjs.org/</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">config</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">set</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">registry</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">https://registry.npmjs.org/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>更新版本号,常用命令</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">version</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">patch</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">version</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">patch</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下架</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 测试包可以随意下架，如果你的包有使用者后不能这样干</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">unpublish</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-f</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">packageName</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#6B737C;"># 测试包可以随意下架，如果你的包有使用者后不能这样干</span></span>
<span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">unpublish</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-f</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">packageName</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="本地调试组件库" tabindex="-1">本地调试组件库 <a class="header-anchor" href="#本地调试组件库" aria-hidden="true">#</a></h2><blockquote><p>组件库本质上也是一个npm包</p></blockquote><p>yalc用于本地调试组件库</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">yalc</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">-g</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">yalc</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在组件库项目中运行以下命令,将会把该项目作为 npm 包发布至本地 yalc 中，包名为 package.json 中 name</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">yalc</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">publish</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">yalc </span><span style="color:#9DB1C5;">publish</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>接着添加组件库的项目至开发项目，下载依赖，这样就可以快速测试组件库了</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">yalc</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">add</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">组件库名</span></span>
<span class="line"><span style="color:#61AFEF;">yarn</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">yalc </span><span style="color:#9DB1C5;">add</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">组件库名</span></span>
<span class="line"><span style="color:#B392F0;">yarn</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="依赖包版本号-和" tabindex="-1">依赖包版本号~，^和* <a class="header-anchor" href="#依赖包版本号-和" aria-hidden="true">#</a></h2><ul><li><code>~</code>会匹配最近的小版本依赖包，比如~1.2.3会匹配所有1.2.x版本，但是不包括1.3.0</li><li><code>^</code>会匹配最新的大版本依赖包，比如^1.2.3会匹配所有1.x.x的包，包括1.3.0，但是不包括2.0.0</li><li>可以指定特定的版本号，直接写1.2.3，前面什么前缀都没有，这样固然没问题，但是如果依赖包发布新版本修复了一些小bug，那么需要手动修改<code>package.json</code>文件；<code>~</code>和<code>^</code>则可以解决这个问题。</li><li>注意<code>^</code>版本更新可能比较大，会造成项目代码错误，所以<strong>建议使用<code>~</code>来标记版本号</strong>，这样可以保证项目不会出现大的问题，也能保证包中的小bug可以得到修复</li><li>版本号写<code>*</code>，这意味着<strong>安装最新版本的依赖包</strong>，但缺点同上，可能会造成版本不兼容，<strong>慎用</strong>！</li></ul><h2 id="本地运行打包后前端项目" tabindex="-1">本地运行打包后前端项目 <a class="header-anchor" href="#本地运行打包后前端项目" aria-hidden="true">#</a></h2><p>本质上就是使用 node 启动服务器，来运行前端项目</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">i</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">serve</span></span>
<span class="line"><span style="color:#61AFEF;">serve</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-s</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">打包文件夹名</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm </span><span style="color:#9DB1C5;">i</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">-g</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">serve</span></span>
<span class="line"><span style="color:#B392F0;">serve </span><span style="color:#9DB1C5;">-s</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">打包文件夹名</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="nodemon和chokidar" tabindex="-1">nodemon和chokidar <a class="header-anchor" href="#nodemon和chokidar" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">&quot;watch&quot;</span><span style="color:#56B6C2;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;npx nodemon --watch docs --ext [md] --exec pnpm run docs&quot;,</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">&quot;watch&quot;</span><span style="color:#B392F0;">: </span><span style="color:#FFAB70;">&quot;npx nodemon --watch docs --ext [md] --exec pnpm run docs&quot;</span><span style="color:#9DB1C5;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">&quot;watch&quot;</span><span style="color:#56B6C2;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;chokidar </span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;">./docs/md</span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;"> -c </span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;">taskkill -F -IM node.exe</span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;"> &amp; </span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;">pnpm run docs</span><span style="color:#56B6C2;">\\&quot;</span><span style="color:#98C379;">&quot;,</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;"> </span><span style="color:#B392F0;">&quot;watch&quot;</span><span style="color:#B392F0;">: </span><span style="color:#FFAB70;">&quot;chokidar \\&quot;./docs/md\\&quot; -c \\&quot;taskkill -F -IM node.exe\\&quot; &amp; \\&quot;pnpm run docs\\&quot;&quot;</span><span style="color:#9DB1C5;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,53),o=[e];function c(r,t,i,d,y,B){return n(),a("div",null,o)}const u=s(p,[["render",c]]);export{m as __pageData,u as default};
