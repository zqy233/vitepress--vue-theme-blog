import{_ as s,c as a,o as n,a as l}from"./app.a9997904.js";const C=JSON.parse('{"title":"拉取代码","description":"","frontmatter":{},"headers":[{"level":2,"title":"git pull --rebase","slug":"git-pull-rebase","link":"#git-pull-rebase","children":[{"level":3,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":3,"title":"总结","slug":"总结","link":"#总结","children":[]}]},{"level":2,"title":"git reset回退","slug":"git-reset回退","link":"#git-reset回退","children":[{"level":3,"title":"--mixed","slug":"mixed","link":"#mixed","children":[]},{"level":3,"title":"--soft","slug":"soft","link":"#soft","children":[]},{"level":3,"title":"--hard","slug":"hard","link":"#hard","children":[]}]}],"relativePath":"1.前端基础/7.git/拉取代码.md","lastUpdated":1676276426000}'),p={name:"1.前端基础/7.git/拉取代码.md"},o=l(`<h1 id="拉取代码" tabindex="-1">拉取代码 <a class="header-anchor" href="#拉取代码" aria-hidden="true">#</a></h1><p>git分为本地仓库和远程仓库，一般情况都是写完代码，commit到本地仓库（生成本地仓的commit ID，代表当前提交代码的版本号），然后push到远程仓库（记录这个版本号）</p><p>我们本地的git文件夹里面对应也存储了git本地仓库maste</p><h2 id="git-pull-rebase" tabindex="-1">git pull --rebase <a class="header-anchor" href="#git-pull-rebase" aria-hidden="true">#</a></h2><p>在多人使用同一个远程分支合作开发的时候，很可能出现push代码的时候出现以下问题：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">To </span><span style="color:#98C379;">https://github.com/zqy233/git.git</span></span>
<span class="line"><span style="color:#ABB2BF;"> ! [rejected]        main -&gt; </span><span style="color:#98C379;">main</span><span style="color:#ABB2BF;"> (fetch </span><span style="color:#98C379;">first</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">error: </span><span style="color:#98C379;">failed</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">to</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">push</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">some</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">refs</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">to</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;https://github.com/zqy233/git.git&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">hint: </span><span style="color:#98C379;">Updates</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">were</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">rejected</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">because</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">the</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">remote</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">contains</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">work</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">that</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">you</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">do</span></span>
<span class="line"><span style="color:#ABB2BF;">hint: </span><span style="color:#98C379;">not</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">have</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">locally.</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">This</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">is</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">usually</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">caused</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">by</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">another</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">repository</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">pushing</span></span>
<span class="line"><span style="color:#ABB2BF;">hint: </span><span style="color:#98C379;">to</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">the</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">same</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">ref.</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">You</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">may</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">want</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">to</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">first</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">integrate</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">the</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">remote</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">changes</span></span>
<span class="line"><span style="color:#ABB2BF;">hint: (e.g., </span><span style="color:#98C379;">&#39;git pull ...&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">before</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">pushing</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">again.</span></span>
<span class="line"><span style="color:#ABB2BF;">hint: </span><span style="color:#98C379;">See</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">the</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Note about fast-forwards&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;git push --help&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">details.</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">To </span><span style="color:#9DB1C5;">https://github.com/zqy233/git.git</span></span>
<span class="line"><span style="color:#B392F0;"> </span><span style="color:#F97583;">!</span><span style="color:#B392F0;"> [rejected]        main -</span><span style="color:#F97583;">&gt;</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">main</span><span style="color:#B392F0;"> (fetch </span><span style="color:#9DB1C5;">first</span><span style="color:#B392F0;">)</span></span>
<span class="line"><span style="color:#B392F0;">error: </span><span style="color:#9DB1C5;">failed</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">to</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">push</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">some</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">refs</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">to</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&#39;https://github.com/zqy233/git.git&#39;</span></span>
<span class="line"><span style="color:#B392F0;">hint: </span><span style="color:#9DB1C5;">Updates</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">were</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">rejected</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">because</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">the</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">remote</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">contains</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">work</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">that</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">you</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">do</span></span>
<span class="line"><span style="color:#B392F0;">hint: </span><span style="color:#9DB1C5;">not</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">have</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">locally.</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">This</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">is</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">usually</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">caused</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">by</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">another</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">repository</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">pushing</span></span>
<span class="line"><span style="color:#B392F0;">hint: </span><span style="color:#9DB1C5;">to</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">the</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">same</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">ref.</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">You</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">may</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">want</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">to</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">first</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">integrate</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">the</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">remote</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">changes</span></span>
<span class="line"><span style="color:#B392F0;">hint: (e.g., </span><span style="color:#FFAB70;">&#39;git pull ...&#39;</span><span style="color:#B392F0;">) </span><span style="color:#9DB1C5;">before</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">pushing</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">again.</span></span>
<span class="line"><span style="color:#B392F0;">hint: </span><span style="color:#9DB1C5;">See</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">the</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&#39;Note about fast-forwards&#39;</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">in</span><span style="color:#B392F0;"> </span><span style="color:#FFAB70;">&#39;git push --help&#39;</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">for</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">details.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>很明显此时远程分支有新的 commit 未同步到本地，无法推送。正常情况下执行<code>git pull</code>，再push代码即可</p><p>但这时<code>git log</code>会多出了一条 merge commit，这个 commit 就是在执行 <code>git pull</code> 的时候自动生成的。如果多人多次如此操作，那么提交记录就会出现很多条这种自动生成的 merge commit，非常难看 要解决以上问题，不再出现自动生成的 merge commit，那么只要在执行 <code>git pull</code> 的时候带上 <code>--rebase</code> 即可</p><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-hidden="true">#</a></h3><ul><li><strong>执行 <code>git pull --rebase</code>的时候必须保持本地目录干净。</strong> 即：不能存在状态为 <code>modified</code> 的文件。（存在<code>Untracked files</code>是没关系的）</li><li><strong>如果出现冲突，可以选择手动解决冲突后继续<code>rebase</code>，也可以放弃本次<code>rebase</code></strong></li></ul><h4 id="执行-git-pull-rebase-的时候必须保持本地目录干净" tabindex="-1">执行 git pull --rebase 的时候必须保持本地目录干净 <a class="header-anchor" href="#执行-git-pull-rebase-的时候必须保持本地目录干净" aria-hidden="true">#</a></h4><p><strong>1.</strong> 有 modified 状态的文件</p><p>本地有受版本控制的文件改动的时候，执行<code>git pull --rebase</code></p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">error: </span><span style="color:#98C379;">cannot</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">pull</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">with</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">rebase:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">You</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">have</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">unstaged</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">changes.</span></span>
<span class="line"><span style="color:#ABB2BF;">error: </span><span style="color:#98C379;">please</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">commit</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">or</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">stash</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">them.</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">error: </span><span style="color:#9DB1C5;">cannot</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">pull</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">with</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">rebase:</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">You</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">have</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">unstaged</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">changes.</span></span>
<span class="line"><span style="color:#B392F0;">error: </span><span style="color:#9DB1C5;">please</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">commit</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">or</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">stash</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">them.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>会出现以上报错，无法操作</p><p>就是因为本地有文件改动尚未提交造成的。此时有两种做法</p><ul><li><strong>如果本次修改已经完成，则可以先提交（commit）一下</strong></li><li><strong>如果本次修改尚未完成，则可以先贮藏：git stash</strong></li></ul><p>做了以上一种操作之后再尝试 <code>git pull --rebase</code>，不会再报错。 如果做了 <code>git stash</code> 操作，此时可以通过 <code>git stash pop</code> 回到之前的工作状态</p><p><code>git pull --rebase</code>如果出现冲突，可以选择手动解决冲突后继续 rebase，也可以放弃本次 rebase</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 解决冲突后使用</span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">rebase</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--continue</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 或者放弃本次rebase</span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">rebase</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--abort</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#6B737C;"># 解决冲突后使用</span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">rebase</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--continue</span></span>
<span class="line"><span style="color:#6B737C;"># 或者放弃本次rebase</span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">rebase</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--abort</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h3><p>多人基于同一个远程分支开发的时候，如果想要顺利 push 又不自动生成 merge commit，建议在每次提交都按照如下顺序操作</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">stash</span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">pull</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--rebase</span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">push</span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">stash</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">pop</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">stash</span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">pull</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--rebase</span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">push</span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">stash</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">pop</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="git-reset回退" tabindex="-1">git reset回退 <a class="header-anchor" href="#git-reset回退" aria-hidden="true">#</a></h2><blockquote><p>git reset 命令用于回退版本，可以指定退回某一次提交的版本</p></blockquote><p>命令语法格式如下：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> [--soft | --mixed | --hard] [HEAD]</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> [--soft </span><span style="color:#F97583;">|</span><span style="color:#B392F0;"> --mixed </span><span style="color:#F97583;">|</span><span style="color:#B392F0;"> --hard] [HEAD]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="mixed" tabindex="-1"><strong>--mixed</strong> <a class="header-anchor" href="#mixed" aria-hidden="true">#</a></h3><p>默认，可以不用带该参数，用于重置暂存区的文件与上一次的提交(commit)保持一致，工作区文件内容保持不变。</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;">  [HEAD] </span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;">  [HEAD] </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>实例：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD^</span><span style="color:#ABB2BF;">            </span><span style="color:#7F848E;font-style:italic;"># 回退所有内容到上一个版本  </span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD^</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">hello.php</span><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;"># 回退 hello.php 文件的版本到上一个版本  </span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">052e</span><span style="color:#ABB2BF;">             </span><span style="color:#7F848E;font-style:italic;"># 回退到指定版本</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD^</span><span style="color:#B392F0;">            </span><span style="color:#6B737C;"># 回退所有内容到上一个版本  </span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD^</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">hello.php</span><span style="color:#B392F0;">  </span><span style="color:#6B737C;"># 回退 hello.php 文件的版本到上一个版本  </span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">052e</span><span style="color:#B392F0;">             </span><span style="color:#6B737C;"># 回退到指定版本</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="soft" tabindex="-1"><strong>--soft</strong> <a class="header-anchor" href="#soft" aria-hidden="true">#</a></h3><p>用于回退到某个版本：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--soft</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD~index</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--soft</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD~index</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>实例：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--soft</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD~</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">   </span><span style="color:#7F848E;font-style:italic;"># 回退上上上一个版本 </span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--soft</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD~</span><span style="color:#F8F8F8;">3</span><span style="color:#B392F0;">   </span><span style="color:#6B737C;"># 回退上上上一个版本 </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="hard" tabindex="-1"><strong>--hard</strong> <a class="header-anchor" href="#hard" aria-hidden="true">#</a></h3><p>撤销工作区中所有未提交的修改内容，将暂存区与工作区都回到上一次版本，并删除之前的所有信息提交：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--hard</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD</span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--hard</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>**注意：**谨慎使用 <strong>–-hard</strong> 参数，它会删除回退点之前的所有信息</p><p>实例：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki one-dark-pro vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--hard</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">HEAD~</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;"># 回退上上上一个版本  </span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">–hard</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">bae128</span><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;"># 回退到某个版本回退点之前的所有信息。 </span></span>
<span class="line"><span style="color:#ABB2BF;">git </span><span style="color:#98C379;">reset</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--hard</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">origin/master</span><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 将本地的状态回退到和远程的一样 </span></span>
<span class="line"></span></code></pre><pre class="shiki min-dark vp-code-light" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--hard</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">HEAD~</span><span style="color:#F8F8F8;">3</span><span style="color:#B392F0;">  </span><span style="color:#6B737C;"># 回退上上上一个版本  </span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">–hard</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">bae128</span><span style="color:#B392F0;">  </span><span style="color:#6B737C;"># 回退到某个版本回退点之前的所有信息。 </span></span>
<span class="line"><span style="color:#B392F0;">git </span><span style="color:#9DB1C5;">reset</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">--hard</span><span style="color:#B392F0;"> </span><span style="color:#9DB1C5;">origin/master</span><span style="color:#B392F0;">    </span><span style="color:#6B737C;"># 将本地的状态回退到和远程的一样 </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>HEAD 说明：</strong></p><ul><li>HEAD 表示当前版本</li><li>HEAD^ 上一个版本</li><li>HEAD^^ 上上一个版本</li><li>HEAD^^^ 上上上一个版本</li><li>以此类推...</li></ul><p>可以使用 ～数字表示</p><ul><li>HEAD~0 表示当前版本</li><li>HEAD~1 上一个版本</li><li>HEAD^2 上上一个版本</li><li>HEAD^3 上上上一个版本</li><li>以此类推...</li></ul>`,47),e=[o];function t(r,c,B,i,y,d){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{C as __pageData,h as default};
